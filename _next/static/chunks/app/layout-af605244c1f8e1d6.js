(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{125:(e,t,r)=>{Promise.resolve().then(r.bind(r,1687)),Promise.resolve().then(r.bind(r,2874)),Promise.resolve().then(r.t.bind(r,4827,23)),Promise.resolve().then(r.t.bind(r,1290,23)),Promise.resolve().then(r.t.bind(r,9997,23)),Promise.resolve().then(r.bind(r,2663))},838:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l});var a=r(4077);let s={CHATS:"messenger_chats",CONTACTS:"messenger_contacts",USER_PROFILE:"messenger_user_profile",SETTINGS:"messenger_settings",PROJECTS:"messenger_projects",DOCUMENTS:"messenger_documents"};class n{async save(e,t){try{await a.p.set({key:e,value:JSON.stringify(t)})}catch(t){throw console.error("Error saving data for key ".concat(e,":"),t),t}}async load(e){try{let{value:t}=await a.p.get({key:e});if(!t)return null;return JSON.parse(t)}catch(t){return console.error("Error loading data for key ".concat(e,":"),t),null}}async remove(e){try{await a.p.remove({key:e})}catch(t){throw console.error("Error removing data for key ".concat(e,":"),t),t}}async clear(){try{await a.p.clear()}catch(e){throw console.error("Error clearing all data:",e),e}}async saveChats(e){return this.save(s.CHATS,e)}async loadChats(){return await this.load(s.CHATS)||[]}async saveContacts(e){return this.save(s.CONTACTS,e)}async loadContacts(){return await this.load(s.CONTACTS)||[]}async saveUserProfile(e){return this.save(s.USER_PROFILE,e)}async loadUserProfile(){return this.load(s.USER_PROFILE)}async saveSettings(e){return this.save(s.SETTINGS,e)}async loadSettings(){return await this.load(s.SETTINGS)||{theme:"dark",notifications:!0}}async saveChatMessages(e,t){return this.save("".concat(s.CHATS,"_").concat(e,"_messages"),t)}async loadChatMessages(e){return await this.load("".concat(s.CHATS,"_").concat(e,"_messages"))||[]}async loadChatMessagesPaginated(e,t,r){let a=await this.loadChatMessages(e),s=Math.max(0,a.length-t*r),n=Math.min(a.length,s+r);return a.slice(s,n)}async getMessageCount(e){return(await this.loadChatMessages(e)).length}async deleteChatMessages(e){return this.remove("".concat(s.CHATS,"_").concat(e,"_messages"))}async saveProjects(e){return this.save(s.PROJECTS,e)}async loadProjects(){return await this.load(s.PROJECTS)||[]}async saveDocuments(e){return this.save(s.DOCUMENTS,e)}async loadDocuments(){return await this.load(s.DOCUMENTS)||[]}}class o{static async createStorage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"preferences";switch(e){case"preferences":default:return new n;case"sqlite":case"mongodb":return console.log("MongoDB adapter requested but not implemented - using Preferences instead"),new n}}static createStorageSync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"preferences";return"preferences"===e||console.log("".concat(e," adapter requested but sync creation only supports preferences - using Preferences instead")),new n}}let c=null;(async()=>{if(!c){c=new n;try{c=await o.createStorage("preferences"),console.log("Using preferences storage")}catch(e){console.error("Storage initialization error:",e)}}})();let l=new Proxy({},{get:(e,t)=>{let r=c;if(r)return r[t]}})},1290:()=>{},1687:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(838),s=r(2115);let n="dark";function o(){return(0,s.useEffect)(()=>{let e=!0;return"undefined"!=typeof document&&document.documentElement.setAttribute("data-theme",n),(async()=>{try{var t;let r=await a.Ay.loadSettings();if(!e)return;(null!=(t=null==r?void 0:r.theme)?t:n)!==n&&await a.Ay.saveSettings({...null!=r?r:{},theme:n})}catch(e){}})(),()=>{e=!1}},[]),null}},2874:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(2115);function s(){return(0,a.useEffect)(()=>{try{let{Capacitor:e}=r(2587);if(e&&e.getPlatform){let t=e.getPlatform();t&&"web"!==t&&document.documentElement.setAttribute("data-native","true")}}catch(e){}},[]),null}},4827:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_48b81b"}},9997:()=>{}},e=>{e.O(0,[941,741,946,11,441,255,358],()=>e(e.s=125)),_N_E=e.O()}]);